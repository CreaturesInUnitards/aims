const A=Object.assign;export default({a=(x,y)=>A({...x},y),i={},m=[_state=>{}],s=!1}={})=>{let v=a({},i);const p=o=>{v=a(v,o)};const t=A({get:()=>v},!s&&{patch:p});const l=[m].flat().map(f=>f(t,s&&p));return Object.freeze(A(t,...l))}
